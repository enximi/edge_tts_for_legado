<!DOCTYPE html>
<title>Legado TTS</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
    :root {
        --bg: #fff;
        --text: #333;
        --sub: #666;
        --border: #ddd;
        --btn: #000;
        --btn-text: #fff;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --bg: #000;
            --text: #fff;
            --sub: #a0a0a0;
            --border: #333;
            --btn: #fff;
            --btn-text: #000;
        }
    }

    body {
        font-family: system-ui, sans-serif;
        display: grid;
        place-items: center;
        height: 100vh;
        margin: 0;
        background-color: var(--bg);
        color: var(--text);
    }

    main {
        text-align: center;
        display: grid;
        gap: 1.5rem;
        width: min(90%, 300px);
    }

    h1 {
        font-size: 1.5rem;
        margin: 0;
        font-weight: 600;
    }

    p {
        margin: 0;
        color: var(--sub);
        font-size: 0.9rem;
    }

    input {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border);
        border-radius: 8px;
        box-sizing: border-box;
        outline: none;
        transition: .2s;
        font-size: 14px;
        background-color: transparent;
        color: inherit;
    }

    input:focus {
        border-color: var(--text);
    }

    a {
        display: block;
        background: var(--btn);
        color: var(--btn-text);
        padding: 12px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 500;
        font-size: 14px;
        transition: .1s;
    }

    a:active {
        opacity: .7;
    }

    small {
        color: var(--sub);
        font-size: 0.75rem;
    }
</style>

<main>
    <div>
        <h1>EdgeTTS Bridge</h1>
        <p>Connect EdgeTTS to Legado</p>
    </div>

    <input id="k" type="password" placeholder="API Key">

    <a id="b">Import to Legado</a>

    <small>Local network use only</small>
</main>

<script>
    k.oninput = () => b.href = "legado://import/httpTTS?src=" + encodeURIComponent(location.origin + "/config" + (k.value.trim() ? "?api_key=" + encodeURIComponent(k.value.trim()) : ""));
    k.oninput();
</script>